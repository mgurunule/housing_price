# DTSE Data Engineer (ETL) assignment

## Project Overview

Housing price prediction is the process of using statistical and machine learning models to forecast the future prices of residential properties. This project provides a Flask API to perform housing price predictions.

## Prerequisites

List the prerequisites needed to run your project. Include information about the required software, packages, and any other dependencies.

* Python 3.9.13
* pip 
* Virtual environment (optional but recommended)



## Installation 
(These steps are for a Windows machine.)

1) Clone the repository to your local machine:
    git clone https://github.com/mgurunule/housing_price.git
2) Navigate to the project directory:               
    ``` cd housing_price```                       
3) Create a virtual environment (optional but recommended):                     
   ```python -m venv venv```                         
   or                                    
   Manually create from IDE.
4) Activate the virtual environment.                                    
    * on windows                            
      ```venv\Scripts\activate```               
5) Install project dependencies:                           
  ``` pip install -r requirements.txt ```


**Note:** Don't forget to deactivate the virtual environment when you're done:
```deactivate```


## Usage

1) Once the installation is done run the below command to start the API.

   ```python app.py```

2) run test_app.py from the project.
    
Note: Please verify the api url of ```test_app.py``` with the url generated by running ```app.py``` Port number 
      may change sometime. So please pass the port number shown after the ```python app.py```.                    
      If not same please modify the url in ```test_app.py```


3) test_app.py will print the expected dataframe with predicted value.
   This app.py program takes input in the form of json.


4) To run all th test case. type ```pytest``` from root directory.


### Project Structure

Describe the structure of your project, including key directories and files.
```
housing_price/                           
│      
├── housing_price/                       
│   ├── constants                  
│   ├── databse           
│   ├── pipeline           
│   ├── trained_model         
│   ├── training_data                       
├── tests/                                        
├── app.py                                      
├── predict_from_model.py                                              
├── requirements.txt                                        
├── schema_prediction.json   
├── test_app.py
└── validation_transformation.py                                     
```

### Files
* `app.py` - Flask script which will open the endpoint. User will pass input data to this end point.
* `predict_from_model.py` -  This script will load the model, perform prediction and save the data in DB.  
* `requirements.txt` - pip dependencies
* `schema_prediction.json` - schema of input data.
* `validation_transformation.py` - This Script will perform validation and transformation of input data
* `test_app.py` - script to test the execution of api
* `housing_price/constants` - constants for the project
* `housing_price/databse`  - database related query file, operations file and DB storage.
* `housing_price/pipeline` - Script to perform data validation and data transformation.
* `housing_price/trained_model/model.joblib` - the computed model you should use 
* `housing_price/training_data/housing.csv` - data file to process and apply a model to it for creating predictions
* `housing_price/logger.py` - main logger script.





